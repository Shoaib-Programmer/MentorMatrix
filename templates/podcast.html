{% extends 'layout.html' %}

{% block title %}Podcast - MentorMatrix{% endblock %}

{% block other_head_stuff %}
{% endblock %}

{% block content %}
    <!-- Link to Generate a New Podcast -->
    <a href="{{ url_for('podcast.generate_podcast_route') }}">Generate a New Podcast</a>

    <h2>Available Podcasts</h2>
    {% if podcasts %}
        <ul>
            {% for podcast in podcasts %}
                <li>
                    <h3>Podcast {{ loop.index }}</h3>
                    <p>{{ podcast.content[:100] }}...</p> <!-- Show a preview of the content -->
                    <audio controls>
                        <source src="{{ url_for('static', filename=podcast.path) }}" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                    <br>
                    <a href="{{ url_for('podcast.podcast', podcast_id=podcast.id) }}">View Details</a>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No podcasts available. <a href="{{ url_for('podcast.generate_podcast_route') }}">Create one now!</a></p>
    {% endif %}
{% endblock %}
